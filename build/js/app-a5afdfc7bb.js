/**
 * splitapp - splitapp Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.admin","app.dashboard","app.layout"])}(),function(){"use strict";angular.module("app.admin",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngplus","LocalStorageModule","angular-toArrayFilter"])}(),function(){"use strict";angular.module("app.dashboard",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function t(t,e,r){function a(){var r=[n()];return t.all(r).then(function(){e.info("Activated Admin View")})}function n(){return r.getUsers().then(function(t){return i.users=t,i.users})}var i=this;i.title="Admin",a()}angular.module("app.admin").controller("AdminController",t),t.$inject=["$q","logger","dataservice"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"admin",config:{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"vm",title:"Admin",settings:{nav:2,content:'<i class="fa fa-lock"></i> Admin'}}}]}angular.module("app.admin").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function e(t){t.decorator("$exceptionHandler",r)}function r(t,e,r){return function(a,n){var i=e.config.appErrorPrefix||"",s={exception:a,cause:n};a.message=i+a.message,t(a,n),r.error(a.message,s)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(e),e.$inject=["$provide"],r.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t,e){function r(r){return function(a){var n,i;return a.data&&a.data.description&&(n="\n"+a.data.description,i=r+n),a.data.description=i,e.error(i),t.reject(a)}}var a={catcher:r};return a}angular.module("blocks.exception").factory("exception",t),t.$inject=["$q","logger"]}(),function(){"use strict";function t(t,e){function r(r,a,n){e.error(r,n),t.error("Error: "+r,a)}function a(r,a,n){e.info(r,n),t.info("Info: "+r,a)}function n(r,a,n){e.success(r,n),t.info("Success: "+r,a)}function i(r,a,n){e.warning(r,n),t.warn("Warning: "+r,a)}var s={showToasts:!0,error:r,info:a,success:n,warning:i,log:t.log};return s}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(t,e,r){function a(t,a,i,s){function l(t,a){t.forEach(function(t){t.config.resolve=angular.extend(t.config.resolve||{},n.resolveAlways),e.state(t.state,t.config)}),a&&!g&&(g=!0,r.otherwise(a))}function o(){a.$on("$stateChangeError",function(e,r,a,n,i,l){if(!p){v.errors++,p=!0;var o=r&&(r.title||r.name||r.loadedTemplateUrl)||"unknown target",c="Error routing to "+o+". "+(l.data||"")+". <br/>"+(l.statusText||"")+": "+(l.status||"");s.warning(c,[r]),t.path("/")}})}function c(){o(),d()}function u(){return i.get()}function d(){a.$on("$stateChangeSuccess",function(t,e,r,i,s){v.changes++,p=!1;var l=n.docTitle+" "+(e.title||"");a.title=l})}var p=!1,g=!1,v={errors:0,changes:0},f={configureStates:l,getStates:u,stateCounts:v};return c(),f}var n={docTitle:void 0,resolveAlways:{}};t.html5Mode(!0),this.configure=function(t){angular.extend(n,t)},this.$get=a,a.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.positionClass="toast-bottom-right"}function e(t,e,r,n){t.debugEnabled&&t.debugEnabled(!0),r.configure(a.appErrorPrefix),e.configure({docTitle:a.appTitle+": "}),n.setPrefix("splitapp")}var r=angular.module("app.core");r.config(t),t.$inject=["toastr"];var a={appErrorPrefix:"[splitapp Error] ",appTitle:"Split"};r.value("config",a),r.config(e),e.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider","localStorageServiceProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function t(t){var r="/404";t.configureStates(e(),r)}function e(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}angular.module("app.core").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,e,r,a,n,i){function s(){var t=e.defer();return i(function(){var e=n.get("Users");e&&0!==e.length?t.resolve(JSON.parse(e)):(d=u.getMockUsers(),c(d),t.resolve(d))},1e3),t.promise}function l(){var t=e.defer();return i(function(){var e=n.get("Bills");e&&0!==e.length?t.resolve(JSON.parse(e)):(p=u.getMockBills(),o(p),t.resolve(p))},1e3),t.promise}function o(t){n.set("Bills",JSON.stringify(t))}function c(t){n.set("Users",JSON.stringify(t))}var u=mockData,d={},p={},g={getUsers:s,getBills:l,updateBills:o,updateUsers:c,bills:p,users:d};return g}angular.module("app.core").factory("dataservice",t),t.$inject=["$http","$q","exception","logger","localStorageService","$timeout"]}();var mockData=function(){function t(){return[{state:"dashboard",config:{url:"/",templateUrl:"app/dashboard/dashboard.html",title:"dashboard",settings:{nav:1,content:'<i class="fa fa-dashboard"></i> Dashboard'}}}]}function e(){return[{id:1,firstName:"Arnaud",lastName:"Vromman",selected:!0},{id:2,firstName:"Yulia",lastName:"Firsova",selected:!0},{id:3,firstName:"Arnaud",lastName:"Ghysens",selected:!0},{id:4,firstName:"Jean",lastName:"Lebeau",selected:!0}]}function r(){return[{title:"First bill",amount:15,createdBy:1,created:"2015-09-07T22:13:45.445Z",splitWith:[]}]}return{getMockUsers:e,getMockStates:t,getMockBills:r}}();!function(){"use strict";function t(){return function(t,e){if(!t||!e)return t;var r={};return angular.forEach(t,function(t,a){t.createdBy===e&&(r[a]=t)}),r}}angular.module("app.dashboard").filter("createdBy",t)}(),function(){"use strict";function t(t,e,r,a,n){function i(){var r=[l(),s()];return e.all(r).then(function(){t.$watch("vm.search",function(t,e){o.filteredBills=n(o.bills,t)}),a.info("Activated Dashboard View")})}function s(){return r.getUsers().then(function(t){return o.users=t,o.users})}function l(){return r.getBills().then(function(t){return o.bills=t,o.bills})}var o=this;o.title="All expenses",o.bills=r.bills,o.users=r.users,o.add=!0,o.selectedUser=0,i(),o.addUser=function(t){o.users.push(angular.copy(t)),r.updateUsers(o.users)},o.addBill=function(e){if(t.addBillForm.$valid){var a=angular.copy(e);a.createdBy=o.selectedUser,a.created=new Date,a.splitWith=[],angular.forEach(o.users,function(t,e,r){t.selected&&a.splitWith.push(t.id)}),o.bills.push(a),r.updateBills(o.bills)}},o.showUsers=function(t){if(!t||0===t.length)return"Nobody";var e="";if(t.length===o.users.length)return"Everyone";for(var r=0;r<t.length;r++)e+=o.getUserById(t[r]),r>=0&&r<t.length-1&&(e+=", ");return 0===e.length?"Nodody":e},o.getUserById=function(t){for(var e=0;e<o.users.length;e++)if(o.users[e].id===t)return o.users[e].firstName+" "+o.users[e].lastName;return""}}angular.module("app.dashboard").controller("DashboardController",t),t.$inject=["$scope","$q","dataservice","logger","createdByFilter"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"dashboard",config:{url:"/",templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",title:"dashboard",settings:{nav:1,content:'<i class="fa fa-dashboard"></i> Dashboard'}}}]}angular.module("app.dashboard").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){function t(t,e,r){function a(e){var r="dropy";e.preventDefault(),i.hasClass(r)?i.hasClass(r)&&(i.removeClass(r),n.slideUp(350,t.whenDoneAnimating)):(n.slideDown(350,t.whenDoneAnimating),i.addClass(r))}var n=e.find(".sidebar-inner"),i=e.find(".sidebar-dropdown a");e.addClass("sidebar"),i.click(a)}var e={link:t,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return e}angular.module("app.layout").directive("htSidebar",t)}(),function(){"use strict";function t(){function t(){}var e={bindToController:!0,controller:t,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return e}angular.module("app.layout").directive("htTopNav",t)}(),function(){"use strict";function t(t,e,r,a){function n(){a.success(r.appTitle+" loaded!",null),i()}function i(){e(function(){t.showSplash=!1},1e3)}var s=this;s.busyMessage="Please wait ...",s.isBusy=!0,t.showSplash=!0,s.navline={title:r.appTitle,text:"Hosted on GitHub",link:"http://github.com"},n()}angular.module("app.layout").controller("ShellController",t),t.$inject=["$rootScope","$timeout","config","logger"]}(),function(){"use strict";function t(t,e){function r(){a()}function a(){i.navRoutes=s.filter(function(t){return t.settings&&t.settings.nav}).sort(function(t,e){return t.settings.nav-e.settings.nav})}function n(e){if(!e.title||!t.current||!t.current.title)return"";var r=e.title;return t.current.title.substr(0,r.length)===r?"current":""}var i=this,s=e.getStates();i.isCurrent=n,r()}angular.module("app.layout").controller("SidebarController",t),t.$inject=["$state","routerHelper"]}(),function(){"use strict";function t(){return{restrict:"E",template:'<span class="clearfix"></span>'}}angular.module("app.widgets").directive("clear",t)}(),function(){"use strict";function t(t){function e(t,e,n){n.$observe("htImgPerson",function(t){t=r+(t||a),n.$set("src",t)})}var r=t.imageBasePath,a=t.unknownPersonImageSource,n={link:e,restrict:"A"};return n}angular.module("app.widgets").directive("htImgPerson",t),t.$inject=["config"]}(),function(){"use strict";function t(){var t={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return t}angular.module("app.widgets").directive("htWidgetHeader",t)}(),function(){"use strict";function t(){var t={replace:!0,templateUrl:"app/widgets/widget-add-bill.html",restrict:"E",link:function(t,e,r){t.save=function(){t.addBillForm.$valid&&(t.vm.addBill(t.newbill),t.reset())},t.reset=function(){t.newbill={title:"",amount:""}}}};return t}angular.module("app.dashboard").directive("widgetAddBill",t)}(),function(){"use strict";function t(){var t={templateUrl:"app/widgets/widget-bill.html",restrict:"EA"};return t}angular.module("app.widgets").directive("widgetBill",t)}(),angular.module("app.core").run(["$templateCache",function(t){t.put("app/admin/admin.html",'<section class=mainbar><section class=matter><div class=container><div class=row><div class="widget wviolet"><div ht-widget-header title={{vm.title}}></div><div class="widget-content user"><h3>Users</h3><table class="table stripped"><thead><tr><th>Firstname</th><th>Lastname</th></tr></thead><tbody ng-repeat="u in vm.users"><tr class=col-mg-12><td>{{u.firstName}}</td><td>{{u.lastName}}</td></tr></tbody></table></div></div></div></div></section></section>'),t.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),t.put("app/dashboard/dashboard.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><h2>{{vm.title}}</h2><div class=pull-right>Who are you ?<select ng-model=vm.selectedUser ng-options="user.id as user.firstName + \' \' + user.lastName for user in vm.users"></select></div><clear><div class=action-bar><div class="btn btn-primary" ng-click="vm.add=!vm.add">Add a bill</div><div class="btn btn-success" ng-click>Balance expenses</div></div><widget-add-bill ng-show=vm.add></widget-add-bill><table class="table table-striped"><thead><tr><th>Description</th><th>Amount</th><th>Created</th><th>Splitted with</th><th><select ng-model=vm.search ng-options="user.id as user.firstName + \' \' + user.lastName for user in vm.users"><option value>Created By</option></select></th></tr></thead><tbody widget-bill ng-repeat="bill in vm.filteredBills track by $index"></tbody></table></clear></div></div></div></section></section>'),t.put("app/layout/ht-top-nav.html",'<nav class="navbar navbar-fixed-top navbar-inverse"><div class=navbar-header><a href="/" class=navbar-brand><span class=brand-title>{{vm.navline.title}}</span></a> <a class="btn navbar-btn navbar-toggle" data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></a></div><div class="navbar-collapse collapse"><div class="pull-right navbar-logo"><ul class="nav navbar-nav pull-right"><li><a ng-href={{vm.navline.link}} target=_blank>{{vm.navline.text}}</a></li></ul></div></div></nav>'),t.put("app/layout/shell.html",'<div ng-controller="ShellController as vm"><header class=clearfix><ht-top-nav navline=vm.navline></ht-top-nav></header><section id=content class=content><div ng-include="\'app/layout/sidebar.html\'"></div><div ui-view class=shuffle-animation></div><div ngplus-overlay ngplus-overlay-delay-in=50 ngplus-overlay-delay-out=700 ngplus-overlay-animation=dissolve-animation><img src=images/busy.gif><div class="page-spinner-message overlay-message">{{vm.busyMessage}}</div></div></section></div>'),t.put("app/layout/sidebar.html",'<div ng-controller="SidebarController as vm"><ht-sidebar when-done-animating=vm.sidebarReady()><div class=sidebar-filler></div><div class=sidebar-dropdown><a href=#>Menu</a></div><div class=sidebar-inner><div class=sidebar-widget></div><ul class=navi><li class="nlightblue fade-selection-animation" ng-class=vm.isCurrent(r) ng-repeat="r in vm.navRoutes"><a ui-sref={{r.name}} ng-bind-html=r.settings.content></a></li></ul></div></ht-sidebar></div>'),t.put("app/widgets/widget-add-bill.html","<form name=addBillForm novalidate class=simple-form>Description: <input type=text ng-model=newbill.title required> Amount: <input type=number ng-model=newbill.amount required><br>Split with:<div ng-repeat=\"currUser in vm.users track by $index\">{{currUser.firstName + ' ' + currUser.lastName}} <input type=checkbox ng-model=currUser.selected value=currUser.selected></div><input type=submit ng-click=save() value=Save></form>"),t.put("app/widgets/widget-bill.html","<tr class=col-mg-12><td>{{bill.title}}</td><td>{{bill.amount | currency}}</td><td>{{bill.created | date:'d MMM H:m'}}</td><td>{{vm.showUsers(bill.splitWith)}}</td><td>{{vm.getUserById(bill.createdBy)}}</td></tr>"),t.put("app/widgets/widget-header.html",'<div class=widget-head><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>')}]);